{% import "_includes/forms" as forms %}

<form action="" method="POST">
    <input type="hidden" name="action" value="list-builder/destination/edit">
    <input type="hidden" name="type" value="3">

    {% if destination.id %}<input type="hidden" name="destinationId" value="{{ destination.id }}">{% endif %}
    {{ csrfInput() }}

    {{ forms.textField({
        label: "Reference" | t('list-builder'),
        instructions: "Add a reference for this signup destination so that it's easy to identify later." | t('list-builder'),
        id: 'name',
        name: 'name',
        value: destination.name,
        errors: destination.getErrors('name'),
        required: false,
    }) }}

    {{ forms.textField({
        label: "API Key" | t('list-builder'),
        instructions: "Mailchimp API Key." | t('list-builder'),
        id: 'conf-apikey',
        name: 'conf-apikey',
        value: destination.getConfigValue('apikey'),
        errors: destination.getErrors('apikey'),
        required: true,
    }) }}

    {{ forms.textField({
        label: "List Id" | t('list-builder'),
        instructions: "(Optional) Mailchimp List Id. If not set the recipient will go into the global list." | t('list-builder'),
        id: 'conf-listid',
        name: 'conf-listid',
        value: destination.getConfigValue('listid'),
        errors: destination.getErrors('listid'),
        required: false,
    }) }}

    <button type="submit" class="btn submit">Save</button>

</form>
